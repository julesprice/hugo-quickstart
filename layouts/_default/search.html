{{ define "header" }}{{ partial "page-header.html" . }}{{ end }}
{{ define "main" }}
<div class="flex-l mt2 mw8 center">
    <article class="center cf pv5 ph3 ph4-ns mw7">
      <header>
        <h1 class="f1">
          {{ .Title }}
        </h1>
      </header>
      <div class="nested-copy-line-height lh-copy f4 nested-links {{ $.Param "text_color" | default "mid-gray" }}">
        {{ .Content }}
        <link href="/hugo-quickstart/pagefind/pagefind-ui.css" rel="stylesheet">
        <script src="/hugo-quickstart/pagefind/pagefind-ui.js"></script>
        
        <div id="search"></div>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({ element: "#search", showSubResults: true });
        
                const urlParams = new URLSearchParams(window.location.search);
                const query = urlParams.get('q');
        
                if (query) {
                    document.querySelector("#search input").value = query;
                    document.querySelector("#search input").dispatchEvent(new Event('input'));
                }
            });
        </script>
    </div>
  </article>
</div>
{{ end }}
